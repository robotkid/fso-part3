{"version":3,"sources":["components/Filter.js","components/PersonForm.js","components/Persons.js","components/Notification.js","services/persons.js","App.js","index.js"],"names":["Filter","props","react_default","a","createElement","value","searchItem","onChange","changeHandler","PersonForm","onSubmit","formSubmitHandler","nameValue","nameChangeHandler","numberValue","numberChangeHandler","type","Person","_ref","person","deleteHandler","name","number","onClick","id","Persons","persons","map","p","Persons_Person","key","Notification","message","error","className","concat","baseUrl","services_persons","axios","get","then","response","data","newObject","post","put","delete","App","_useState","useState","_useState2","Object","slicedToArray","setPersons","_useState3","_useState4","newName","setNewName","_useState5","_useState6","newNumber","setNewNumber","_useState7","_useState8","setSearchItem","_useState9","_useState10","notificationMessage","setNotificationMessage","_useState11","_useState12","isError","setIsError","useEffect","personService","initialPersons","personsToShow","filter","toUpperCase","includes","notify","setTimeout","components_Notification","components_Filter","event","target","components_PersonForm","preventDefault","index","replaceMessage","existingIndex","findIndex","window","confirm","objectSpread","returnedPerson","newPersons","toConsumableArray","catch","components_Persons","personIndex","personName","updatedPersons","splice","ReactDOM","render","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.f6205421.chunk.js","sourcesContent":["import React from 'react'\n\nconst Filter = (props) =>\n  <p>filter shown with <input value={props.searchItem} onChange={props.changeHandler} /></p>\n\nexport default Filter","import React from 'react'\n\nconst PersonForm = (props) => {\n  return (\n    <form onSubmit={props.formSubmitHandler}>\n      <div>\n        name: <input value={props.nameValue} onChange={props.nameChangeHandler} />\n        <br />\n        number: <input value={props.numberValue} onChange={props.numberChangeHandler} />\n      </div>\n      <div>\n        <button type=\"submit\">add</button>\n      </div>\n    </form>\n  )\n}\n\nexport default PersonForm","import React from 'react'\n\n\nconst Person = ({person, deleteHandler}) =>\n  <p>{person.name} {person.number} <button onClick={deleteHandler(person.id)}>delete</button></p>\n\n\nconst Persons = (props) =>\n  props.persons.map(p => <Person\n                            key={p.name}\n                            person={p}\n                            deleteHandler={props.deleteHandler} />)\n\n\nexport default Persons","import React from 'react'\n\nconst Notification = ({message, error}) => {\n  \n  if (message === null) {\n    return null\n  }\n\n  return (\n    <div className={`notification ${error ? 'error' : 'success'}`}>\n      {message}\n    </div>\n  )\n}\n\nexport default Notification","import axios from 'axios'\n\nconst baseUrl = '/api/persons'\n\nconst getAll = () => {\n  const request = axios.get(baseUrl)\n  return request.then(response => response.data)\n}\n\nconst create = newObject => {\n  const request = axios.post(baseUrl, newObject)\n  return request.then(response => response.data)\n}\n\nconst update = (id, newObject) => {\n  const request = axios.put(`${baseUrl}/${id}`, newObject)\n  return request.then(response => response.data)\n}\n\nconst del = (id) => {\n  return axios.delete(`${baseUrl}/${id}`)\n}\n\nexport default { \n  getAll: getAll, \n  create: create, \n  update: update,\n  del: del\n}","import React, { useState, useEffect } from 'react'\nimport Filter from './components/Filter'\nimport PersonForm from './components/PersonForm'\nimport Persons from './components/Persons'\nimport Notification from './components/Notification'\nimport personService from './services/persons'\n\n\nconst App = () => {\n  const [ persons, setPersons] = useState([]) \n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber ] = useState('')\n  const [ searchItem, setSearchItem ] = useState('')\n  const [ notificationMessage, setNotificationMessage ] = useState(null)\n  const [ isError, setIsError ] = useState(false)\n\n  useEffect(() => {\n    personService\n      .getAll()\n      .then(initialPersons => {\n        setPersons(initialPersons)\n      })\n  }, [])\n  \n  const personsToShow =\n    persons.filter(p => p.name.toUpperCase().includes(searchItem.toUpperCase()))\n\n  const updateNumber = (index) => {\n    personService\n      .update(persons[index].id, {...persons[index], number:newNumber})\n      .then( (returnedPerson) => {\n        const newPersons = [...persons]\n        newPersons[index] = returnedPerson\n        setPersons(newPersons)\n        notify(`Changed number for ${newName}`, false)\n      })\n      .catch(error => {\n        notify(`${newName} was already removed from the server`, true)\n      })\n  }\n\n  const addName = (event) => {\n    event.preventDefault()\n    const replaceMessage = `${newName} is already in the phonebook. Replace the old number with a new one?`\n    const existingIndex = persons.findIndex(p => p.name === newName)\n    if (existingIndex >= 0 && window.confirm(replaceMessage)) {\n      updateNumber(existingIndex)\n    }\n    else {\n      const newPerson = {name: newName, number: newNumber}\n      \n      personService\n        .create(newPerson)\n        .then(returnedPerson => {\n          setPersons(persons.concat(returnedPerson))\n          setNewName('')\n          setNewNumber('')\n          notify(`Added ${returnedPerson.name}`, false)\n        })\n    }\n  }\n\n  const notify = (message, error) => {\n    setNotificationMessage(message)\n    setIsError(error)\n    setTimeout(() => setNotificationMessage(null), 3000)    \n  }\n\n  const handleNameChange = (event) => {\n    setNewName(event.target.value)\n  }\n\n  const handleNumberChange = (event) => {\n    setNewNumber(event.target.value)\n  }\n\n  const handleSearchChange = (event) => {\n    setSearchItem(event.target.value)\n  }\n\n  const handleDelete = (id) => () => {\n    const personIndex = persons.findIndex(p => p.id === id)\n    const personName = persons[personIndex].name\n    if (window.confirm(`Delete ${personName}`))\n    personService.del(id)\n      .then( () => {  \n        const updatedPersons = [...persons]\n        updatedPersons.splice(personIndex, 1)\n        setPersons(updatedPersons)\n        notify(`Deleted ${personName}`, false)\n      })\n  }\n\n  return (\n    <div>\n      <Notification message={notificationMessage} error={isError} />\n\n      <h2>Phonebook</h2>\n\n      <Filter searchItem={searchItem} changeHandler={handleSearchChange} />\n      \n      <h3>add a new</h3>\n\n      <PersonForm \n        formSubmitHandler={addName}\n        nameValue={newName} nameChangeHandler={handleNameChange}\n        numberValue={newNumber} numberChangeHandler={handleNumberChange}\n      />\n\n      <h3>Numbers</h3>\n\n      <Persons persons={personsToShow} deleteHandler={handleDelete} />\n\n    </div>\n  )\n}\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App'\nimport './index.css'\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}